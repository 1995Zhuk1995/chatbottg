# Правила и сценарии для профиля "Вика Малахова, ~9 лет"

import:
    # Общие правила грузим отюда
    - shared_rules.yaml
    #- shared_scenarios.yaml


# Жадные правила отрабатывают ВМЕСТО генеративного пайплайна.
# Ищется первое подходящее правило, результат его работы выдается собеседнику.
greedy_rules:
    - rule:
        name: "тестовое statefull правило с реакцией на фразу ку-ку"
        if:
            h: "* (куку/ку-ку) *"
        then:
            say:
                phrases:
                    - "ку-ку!"
                on_repeat:
                    - "это я уже $chooseVByGender(слышал, слышала)"
                    - "что, опять ку-ку?"
                on_repeat_again:
                    - "все, хватит с меня этих ку-ку!"


# Дополняющие правила: сгенерированные ими варианты оцениваются с точки зрения
# контекста диалога вместе с вариантами, сгенерированными читчатом и reasoner'ом.
smalltalk_rules:
    - rule:
        name: "тестовое правило с реакцией на фразу алё"
        if:
            h: "* (але/алё) *"
        then:
            say:
                phrases:
                    - "слышимость отличная!"
                on_repeat:
                    - "да, слышу!"
                on_repeat_again:
                    - "[ну] хватит уже алёкать!"
